(this.webpackJsonpgrid=this.webpackJsonpgrid||[]).push([[3],{300:function(t,e,s){},301:function(t,e,s){t.exports={descriptionInfo:"ProfileInfo_descriptionInfo__1vk4b",imageProfile:"ProfileInfo_imageProfile__Gc9Xv"}},302:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2ifKf",posts:"MyPosts_posts__3tZ1c"}},303:function(t,e,s){t.exports={item:"Post_item__ihtu9"}},305:function(t,e,s){"use strict";s.r(e);var n=s(3),o=s(28),i=s(29),a=s(31),c=s(30),u=s(0),r=s.n(u),d=s(13),p=(s(300),s(50)),l=s(66),h=s(301),j=s.n(h),f=s(1),b=function(t){Object(a.a)(s,t);var e=Object(c.a)(s);function s(t){var n;return Object(o.a)(this,s),console.log("Constructor ProfileStatus",t),(n=e.call(this,t)).activateEditMode=function(t){console.log("activate",n.state),n.setState({editMode:!0})},n.deactivateEditMode=function(t){console.log("deactivate",n.state),n.props.updateStatusThunk(n.state.status),n.setState({editMode:!1})},n.onInputFocus=function(t){t.target.select()},n.onChange=function(t){n.setState({status:t.target.value})},n.state={editMode:!1,status:t.status},n}return Object(i.a)(s,[{key:"componentDidMount",value:function(){console.log("ComponentDidMount")}},{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(f.jsx)("div",{children:this.state.editMode?Object(f.jsx)("div",{children:Object(f.jsx)("input",{autoFocus:!0,onFocus:this.onInputFocus,onBlur:this.deactivateEditMode,onChange:this.onChange,type:"text",value:this.state.status})}):Object(f.jsx)("div",{children:Object(f.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"---------"})})})}}]),s}(r.a.Component),O=(s(129),s(88)),v=function(t){var e=t.uploadAvatarThunk,s=t.isOwner,n=Object(p.a)(t,["uploadAvatarThunk","isOwner"]);return n.profile?Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://images.pexels.com/photos/248797/pexels-photo-248797.jpeg?auto=compress&cs=tinysrgb&h=350"})}),Object(f.jsx)("div",{className:j.a.descriptionInfo,children:"ava + description"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("img",{src:n.profile.photos.small||O.a,alt:"",className:j.a.imageProfile}),s&&Object(f.jsx)("input",{type:"file",onChange:function(t){t.target.files.length>0&&e(t.target.files[0])}})]}),Object(f.jsx)("div",{children:Object(f.jsx)(b,{status:n.status,updateStatusThunk:n.updateStatusThunk})})]}):Object(f.jsx)(l.a,{})},m=s(97),x=s(302),g=s.n(x),k=s(303),P=s.n(k),y=function(t){return Object(f.jsxs)("div",{className:P.a.item,children:[Object(f.jsx)("img",{src:"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg"}),t.message,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:["likes ",t.likesCount]})})]})},I=s(91),T=s(128),S=s(47),M=s(37),_=Object(T.a)({form:"post"})((function(t){return Object(f.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(I.a,{component:M.b,name:"newPostText",validate:[S.c,S.a]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Add post"})})]})})),C=function(t){console.log("Render MyPosts");var e=t.posts.map((function(t){return Object(f.jsx)(y,{message:t.message,likesCount:t.likesCount})}));return Object(f.jsxs)("div",{className:g.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My Posts"}),Object(f.jsx)("div",{children:Object(f.jsx)(_,{onSubmit:function(e){t.addPost(e.newPostText)}})}),Object(f.jsxs)("div",{className:g.a.posts,children:[e," "]})]})},w=Object(d.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(Object(m.a)(e))}}}))(C),A=function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(v,{profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk,isOwner:t.isOwner,uploadAvatarThunk:t.uploadAvatarThunk}),Object(f.jsx)(w,{})]})},D=s(10),N=(s(138),s(11)),B=(s(12),function(t){Object(a.a)(s,t);var e=Object(c.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"updateProfileInfo",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUsedId)||this.props.history.push("/login"),this.props.getProfileThunk(t),this.props.getProfileStatusThunk(t)}},{key:"componentDidMount",value:function(){this.updateProfileInfo()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!=t.match.params.userId&&this.updateProfileInfo()}},{key:"render",value:function(){return Object(f.jsx)(A,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),s}(r.a.Component));e.default=Object(N.d)(D.g,Object(d.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUsedId:t.auth.userId,isAuth:t.auth.isAuth}}),{setProfile:m.e,getProfileThunk:m.d,getProfileStatusThunk:m.c,updateStatusThunk:m.f,uploadAvatarThunk:m.g}))(B)}}]);
//# sourceMappingURL=3.f56393bb.chunk.js.map